<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BSL430.NET: RJCP.Datastructures.TimerExpiry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BSL430.NET
   &#160;<span id="projectnumber">1.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_r_j_c_p.html">RJCP</a></li><li class="navelem"><a class="el" href="namespace_r_j_c_p_1_1_datastructures.html">Datastructures</a></li><li class="navelem"><a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html">TimerExpiry</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RJCP.Datastructures.TimerExpiry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class to maintain how much time is remaining since the last reset, until expiry.  
 <a href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6474d821e4ace9b45cf91c074fdd2956"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#a6474d821e4ace9b45cf91c074fdd2956">TimerExpiry</a> (int milliseconds)</td></tr>
<tr class="memdesc:a6474d821e4ace9b45cf91c074fdd2956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. Initialise expiry based on the current time.  <a href="#a6474d821e4ace9b45cf91c074fdd2956">More...</a><br /></td></tr>
<tr class="separator:a6474d821e4ace9b45cf91c074fdd2956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9e5e2c9c3f6d30001e4fb04abf2244"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#aae9e5e2c9c3f6d30001e4fb04abf2244">RemainingTime</a> ()</td></tr>
<tr class="memdesc:aae9e5e2c9c3f6d30001e4fb04abf2244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the amount of time (ms) remaining from when this function is called until expiry.  <a href="#aae9e5e2c9c3f6d30001e4fb04abf2244">More...</a><br /></td></tr>
<tr class="separator:aae9e5e2c9c3f6d30001e4fb04abf2244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2241fbbdbbe1423b50f4b4b54ccbed1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad2241fbbdbbe1423b50f4b4b54ccbed1">Reset</a> ()</td></tr>
<tr class="memdesc:ad2241fbbdbbe1423b50f4b4b54ccbed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the time out so it occurs with the given <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad6a62756590878b3053a15a5c112d944" title="The time for expiry on the next reset. System.Threading.Timeout.Infinite indicates no expiry.">Timeout</a>.  <a href="#ad2241fbbdbbe1423b50f4b4b54ccbed1">More...</a><br /></td></tr>
<tr class="separator:ad2241fbbdbbe1423b50f4b4b54ccbed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ad6a62756590878b3053a15a5c112d944"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad6a62756590878b3053a15a5c112d944">Timeout</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ad6a62756590878b3053a15a5c112d944"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time for expiry on the next reset. System.Threading.Timeout.Infinite indicates no expiry.  <a href="#ad6a62756590878b3053a15a5c112d944">More...</a><br /></td></tr>
<tr class="separator:ad6a62756590878b3053a15a5c112d944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab764bd1af3d3270ee128f649949bdb19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ab764bd1af3d3270ee128f649949bdb19">Expired</a><code> [get]</code></td></tr>
<tr class="memdesc:ab764bd1af3d3270ee128f649949bdb19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the timer expiry has expired.  <a href="#ab764bd1af3d3270ee128f649949bdb19">More...</a><br /></td></tr>
<tr class="separator:ab764bd1af3d3270ee128f649949bdb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class to maintain how much time is remaining since the last reset, until expiry. </p>
<p>This class is useful when implementing time outs in other methods. It can provide the remaining time, in units of milliseconds, that can be used with many Operating <a class="el" href="namespace_system.html">System</a> calls as an expiry time. </p>
<p>One example is the M:System.Threading.WaitHandle.WaitOne method which expects a time out parameter. Either instantiate the <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html" title="A class to maintain how much time is remaining since the last reset, until expiry.">TimerExpiry</a> class at the beginning immediately before its use, or call the <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad2241fbbdbbe1423b50f4b4b54ccbed1" title="Reset the time out so it occurs with the given Timeout.">Reset</a> method at the beginning of the time out operation. Then on return of the function, if no other operation occurred, the method <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#aae9e5e2c9c3f6d30001e4fb04abf2244" title="Estimate the amount of time (ms) remaining from when this function is called until expiry.">RemainingTime</a> should return 0 indicating that the timer has expired.</p>
<p>Another thread can be programmed to <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad2241fbbdbbe1423b50f4b4b54ccbed1" title="Reset the time out so it occurs with the given Timeout.">Reset</a> the timer class during a time out operation, so that even if the result of Wait operation by the Operating system resulted in a time out, a <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad2241fbbdbbe1423b50f4b4b54ccbed1" title="Reset the time out so it occurs with the given Timeout.">Reset</a>, which results in the <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#aae9e5e2c9c3f6d30001e4fb04abf2244" title="Estimate the amount of time (ms) remaining from when this function is called until expiry.">RemainingTime</a> being more than 0 milliseconds, indicates that another wait operation should occur.</p>
<p>Even if no expiry is to occur, but the Operating <a class="el" href="namespace_system.html">System</a> function returns early, you can opt to restart the time out operation which will then take into account the current time and reduce the time out so that the operation ends as expected.</p>
<p>As an example, say you need to wait for data by calling a method which waits for the first set of data within a time out. But your method must wait for at least two elements of data within the time out. This can be implemented as follows:</p>
<p>public true MyFunc(int timeOut) { <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html" title="A class to maintain how much time is remaining since the last reset, until expiry.">TimerExpiry</a> myExpiry = new TimerExpiry(timeOut); int elements = 0; do { elements += GetData(myExpiry.RemainingTime()); } while (elements &lt; 2 &amp;&amp; !myExpiry.Expired);</p>
<p>if (elements &gt;=2) return true; return false; } </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6474d821e4ace9b45cf91c074fdd2956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6474d821e4ace9b45cf91c074fdd2956">&#9670;&nbsp;</a></span>TimerExpiry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RJCP.Datastructures.TimerExpiry.TimerExpiry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>milliseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. Initialise expiry based on the current time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">milliseconds</td><td>The initial time out in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<p>The constructor sets the initial time out that should be used. On construction of the new object, the timer is automatically started. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae9e5e2c9c3f6d30001e4fb04abf2244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9e5e2c9c3f6d30001e4fb04abf2244">&#9670;&nbsp;</a></span>RemainingTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RJCP.Datastructures.TimerExpiry.RemainingTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimate the amount of time (ms) remaining from when this function is called until expiry. </p>
<dl class="section return"><dt>Returns</dt><dd>The time to expiry in milliseconds.</dd></dl>

</div>
</div>
<a id="ad2241fbbdbbe1423b50f4b4b54ccbed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2241fbbdbbe1423b50f4b4b54ccbed1">&#9670;&nbsp;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RJCP.Datastructures.TimerExpiry.Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the time out so it occurs with the given <a class="el" href="class_r_j_c_p_1_1_datastructures_1_1_timer_expiry.html#ad6a62756590878b3053a15a5c112d944" title="The time for expiry on the next reset. System.Threading.Timeout.Infinite indicates no expiry.">Timeout</a>. </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="ab764bd1af3d3270ee128f649949bdb19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab764bd1af3d3270ee128f649949bdb19">&#9670;&nbsp;</a></span>Expired</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RJCP.Datastructures.TimerExpiry.Expired</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test if the timer expiry has expired. </p>

</div>
</div>
<a id="ad6a62756590878b3053a15a5c112d944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a62756590878b3053a15a5c112d944">&#9670;&nbsp;</a></span>Timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RJCP.Datastructures.TimerExpiry.Timeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The time for expiry on the next reset. System.Threading.Timeout.Infinite indicates no expiry. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/PROJECTS/C#/BSL430.NET/src/BSL430.NET/Library/serialportstream/2.1.4/src/Datastructures/TimerExpiry.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
